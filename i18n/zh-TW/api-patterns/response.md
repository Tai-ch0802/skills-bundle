# 回應格式原則

> 一致性是關鍵 — 選擇一種格式並堅持使用。

## 常見模式

```
選擇一種：
├── 封裝模式（{ success, data, error }）
├── 直接資料（僅回傳資源）
└── HAL/JSON:API（超媒體）
```

## 錯誤回應

```
包含：
├── 錯誤代碼（供程式處理）
├── 使用者訊息（供顯示）
├── 詳細資訊（供除錯，欄位級錯誤）
├── 請求 ID（供客服支援）
└── 不要包含內部細節（安全性！）
```

## 分頁類型

| 類型 | 最適合 | 權衡 |
|------|--------|------|
| **偏移量** | 簡單、可跳頁 | 大資料集效能差 |
| **游標** | 大資料集 | 無法跳到特定頁 |
| **鍵集** | 效能關鍵 | 需要可排序的鍵 |

### 選擇問題

1. 資料集有多大？
2. 使用者是否需要跳到特定頁面？
3. 資料是否經常變動？
