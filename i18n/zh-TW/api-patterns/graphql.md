# GraphQL 原則

> 彈性查詢，適合複雜且互聯的資料。

## 何時使用

```
✅ 適合：
├── 複雜且互聯的資料
├── 多個前端平台
├── 客戶端需要彈性查詢
├── 持續演進的資料需求
└── 減少過度取得很重要

❌ 不適合：
├── 簡單的 CRUD 操作
├── 大量檔案上傳
├── HTTP 快取很重要
└── 團隊不熟悉 GraphQL
```

## Schema 設計原則

```
原則：
├── 以圖的方式思考，而非端點
├── 為可演進性設計（無版本）
├── 使用連接（connections）做分頁
├── 型別要具體（不用通用的 "data"）
└── 謹慎處理可空性
```

## 安全考量

```
防禦：
├── 查詢深度攻擊 → 設定最大深度
├── 查詢複雜度 → 計算成本
├── 批次濫用 → 限制批次大小
├── 自省查詢 → 在生產環境停用
```
