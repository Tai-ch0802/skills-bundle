---
name: clean-code
description: å‹™å¯¦çš„ç·¨ç¢¼æ¨™æº– â€” ç°¡æ½”ã€ç›´æ¥ã€ä¸éåº¦è¨­è¨ˆã€ä¸å¯«ä¸å¿…è¦çš„è¨»è§£
allowed-tools: Read, Write, Edit
version: 2.0
priority: CRITICAL
---

# Clean Code â€” å‹™å¯¦çš„ AI ç·¨ç¢¼æ¨™æº–

> **é—œéµæŠ€èƒ½** â€” è¦**ç°¡æ½”ã€ç›´æ¥ã€ä»¥è§£æ±ºæ–¹æ¡ˆç‚ºé‡å¿ƒ**ã€‚

---

## æ ¸å¿ƒåŸå‰‡

| åŸå‰‡ | è¦å‰‡ |
|------|------|
| **SRP** | å–®ä¸€è·è²¬ â€” æ¯å€‹å‡½å¼/é¡åˆ¥åªåšä¸€ä»¶äº‹ |
| **DRY** | ä¸è¦é‡è¤‡è‡ªå·± â€” æŠ½å–é‡è¤‡ã€é‡ç”¨ |
| **KISS** | ä¿æŒç°¡å–® â€” æœ€ç°¡å–®çš„è§£æ±ºæ–¹æ¡ˆ |
| **YAGNI** | ä½ ä¸æœƒéœ€è¦å®ƒ â€” ä¸è¦å»ºæ§‹æœªä½¿ç”¨çš„åŠŸèƒ½ |
| **ç«¥å­è»è¦å‰‡** | è®“ç¨‹å¼ç¢¼æ¯”ä½ ç™¼ç¾æ™‚æ›´ä¹¾æ·¨ |

---

## å‘½åè¦å‰‡

| å…ƒç´  | æ…£ä¾‹ |
|------|------|
| **è®Šæ•¸** | æ­ç¤ºæ„åœ–ï¼š`userCount` è€Œé `n` |
| **å‡½å¼** | å‹•è© + åè©ï¼š`getUserById()` è€Œé `user()` |
| **å¸ƒæ—å€¼** | å•å¥å½¢å¼ï¼š`isActive`ã€`hasPermission`ã€`canEdit` |
| **å¸¸æ•¸** | å…¨å¤§å¯«è›‡å½¢ï¼š`MAX_RETRY_COUNT` |

> **è¦å‰‡ï¼š** å¦‚æœä½ éœ€è¦è¨»è§£ä¾†è§£é‡‹åç¨±ï¼Œå°±é‡æ–°å‘½åå®ƒã€‚

---

## å‡½å¼è¦å‰‡

| è¦å‰‡ | æè¿° |
|------|------|
| **å°å·§** | æœ€å¤š 20 è¡Œï¼Œç†æƒ³ 5-10 è¡Œ |
| **åšä¸€ä»¶äº‹** | åšä¸€ä»¶äº‹ï¼Œåšå¥½å®ƒ |
| **ä¸€å€‹å±¤æ¬¡** | æ¯å€‹å‡½å¼ä¸€å€‹æŠ½è±¡å±¤æ¬¡ |
| **å°‘é‡åƒæ•¸** | æœ€å¤š 3 å€‹åƒæ•¸ï¼Œåå¥½ 0-2 å€‹ |
| **ç„¡å‰¯ä½œç”¨** | ä¸è¦æ„å¤–åœ°ä¿®æ”¹è¼¸å…¥ |

---

## ç¨‹å¼ç¢¼çµæ§‹

| æ¨¡å¼ | æ‡‰ç”¨ |
|------|------|
| **è¡›èªå¥** | ç‚ºé‚Šç•Œæƒ…æ³æå‰è¿”å› |
| **æ‰å¹³ > å·¢ç‹€** | é¿å…æ·±å±¤å·¢ç‹€ï¼ˆæœ€å¤š 2 å±¤ï¼‰|
| **çµ„åˆ** | å°å‡½å¼çµ„åˆåœ¨ä¸€èµ· |
| **å…±ç½®** | ä¿æŒç›¸é—œç¨‹å¼ç¢¼é è¿‘ |

---

## AI ç·¨ç¢¼é¢¨æ ¼

| æƒ…æ³ | å‹•ä½œ |
|------|------|
| ä½¿ç”¨è€…è¦æ±‚åŠŸèƒ½ | ç›´æ¥å¯« |
| ä½¿ç”¨è€…å›å ± bug | ä¿®å¾©å®ƒï¼Œä¸è¦è§£é‡‹ |
| éœ€æ±‚ä¸æ˜ç¢º | è©¢å•ï¼Œä¸è¦å‡è¨­ |

---

## åæ¨¡å¼ï¼ˆä¸è¦é€™æ¨£åšï¼‰

| âŒ æ¨¡å¼ | âœ… ä¿®æ­£ |
|---------|---------|
| æ¯è¡Œéƒ½è¨»è§£ | åˆªé™¤é¡¯è€Œæ˜“è¦‹çš„è¨»è§£ |
| ç‚ºä¸€è¡Œç¨‹å¼ç¢¼å»ºç«‹ Helper | å…§åµŒç¨‹å¼ç¢¼ |
| ç‚º 2 å€‹ç‰©ä»¶å»ºç«‹å·¥å»  | ç›´æ¥å¯¦ä¾‹åŒ– |
| utils.ts åªæœ‰ 1 å€‹å‡½å¼ | æŠŠç¨‹å¼ç¢¼æ”¾åœ¨ä½¿ç”¨è™• |
| ã€Œé¦–å…ˆæˆ‘å€‘å¼•å…¥â€¦ã€ | ç›´æ¥å¯«ç¨‹å¼ç¢¼ |
| æ·±å±¤å·¢ç‹€ | è¡›èªå¥ |
| é­”æ³•æ•¸å­— | å‘½åå¸¸æ•¸ |
| ç¥å‡½å¼ | æŒ‰è·è²¬æ‹†åˆ† |

---

## ğŸ”´ ç·¨è¼¯ä»»ä½•æª”æ¡ˆå‰ï¼ˆå…ˆæ€è€ƒï¼ï¼‰

**è®Šæ›´æª”æ¡ˆå‰ï¼Œå•è‡ªå·±ï¼š**

| å•é¡Œ | åŸå›  |
|------|------|
| **ä»€éº¼å¼•å…¥äº†é€™å€‹æª”æ¡ˆï¼Ÿ** | å®ƒå€‘å¯èƒ½æœƒå£æ‰ |
| **é€™å€‹æª”æ¡ˆå¼•å…¥äº†ä»€éº¼ï¼Ÿ** | ä»‹é¢è®Šæ›´ |
| **ä»€éº¼æ¸¬è©¦è¦†è“‹äº†å®ƒï¼Ÿ** | æ¸¬è©¦å¯èƒ½æœƒå¤±æ•— |
| **é€™æ˜¯å…±ç”¨å…ƒä»¶å—ï¼Ÿ** | å¤šå€‹åœ°æ–¹å—å½±éŸ¿ |

**å¿«é€Ÿæª¢æŸ¥ï¼š**
```
è¦ç·¨è¼¯çš„æª”æ¡ˆï¼šUserService.ts
â””â”€â”€ èª°å¼•å…¥äº†å®ƒï¼Ÿâ†’ UserController.tsã€AuthController.ts
â””â”€â”€ å®ƒå€‘ä¹Ÿéœ€è¦è®Šæ›´å—ï¼Ÿâ†’ æª¢æŸ¥å‡½å¼ç°½å
```

> ğŸ”´ **è¦å‰‡ï¼š** åœ¨åŒä¸€å€‹ä»»å‹™ä¸­ç·¨è¼¯æª”æ¡ˆåŠæ‰€æœ‰ç›¸ä¾æª”æ¡ˆã€‚
> ğŸ”´ **çµ•ä¸ç•™ä¸‹æå£çš„å¼•å…¥æˆ–éºæ¼çš„æ›´æ–°ã€‚**

---

## æ‘˜è¦

| è¦åš | ä¸è¦åš |
|------|--------|
| ç›´æ¥å¯«ç¨‹å¼ç¢¼ | å¯«æ•™å­¸ |
| è®“ç¨‹å¼ç¢¼è‡ªæˆ‘æ–‡ä»¶åŒ– | åŠ ä¸Šé¡¯è€Œæ˜“è¦‹çš„è¨»è§£ |
| ç«‹å³ä¿®å¾© bug | å…ˆè§£é‡‹ä¿®å¾©æ–¹æ³• |
| å…§åµŒå°æ±è¥¿ | å»ºç«‹ä¸å¿…è¦çš„æª”æ¡ˆ |
| æ¸…æ¥šå‘½å | ä½¿ç”¨ç¸®å¯« |
| ä¿æŒå‡½å¼å°å·§ | å¯« 100+ è¡Œçš„å‡½å¼ |

> **è¨˜ä½ï¼šä½¿ç”¨è€…æƒ³è¦èƒ½é‹ä½œçš„ç¨‹å¼ç¢¼ï¼Œä¸æ˜¯ç¨‹å¼è¨­è¨ˆèª²ç¨‹ã€‚**

---

## ğŸ”´ å®Œæˆå‰è‡ªæˆ‘æª¢æŸ¥ï¼ˆå¿…è¦ï¼‰

**åœ¨èªªã€Œä»»å‹™å®Œæˆã€å‰ï¼Œé©—è­‰ï¼š**

| æª¢æŸ¥ | å•é¡Œ |
|------|------|
| âœ… **ç›®æ¨™é”æˆï¼Ÿ** | æˆ‘æ˜¯å¦å®Œå…¨æŒ‰ç…§ä½¿ç”¨è€…è¦æ±‚åšäº†ï¼Ÿ |
| âœ… **æª”æ¡ˆå·²ç·¨è¼¯ï¼Ÿ** | æˆ‘æ˜¯å¦ä¿®æ”¹äº†æ‰€æœ‰å¿…è¦çš„æª”æ¡ˆï¼Ÿ |
| âœ… **ç¨‹å¼ç¢¼å¯é‹ä½œï¼Ÿ** | æˆ‘æ˜¯å¦æ¸¬è©¦/é©—è­‰äº†è®Šæ›´ï¼Ÿ |
| âœ… **ç„¡éŒ¯èª¤ï¼Ÿ** | Lint å’Œ TypeScript é€šéï¼Ÿ |
| âœ… **æ²’éºæ¼ï¼Ÿ** | æœ‰éºæ¼çš„é‚Šç•Œæƒ…æ³å—ï¼Ÿ |

> ğŸ”´ **è¦å‰‡ï¼š** å¦‚æœä»»ä½•æª¢æŸ¥å¤±æ•—ï¼Œåœ¨å®Œæˆå‰ä¿®å¾©å®ƒã€‚

---

## é©—è­‰è…³æœ¬ï¼ˆå¿…è¦ï¼‰

> ğŸ”´ **é—œéµï¼š** æ¯å€‹ä»£ç†åœ¨å®Œæˆå·¥ä½œå¾ŒåªåŸ·è¡Œè‡ªå·±æŠ€èƒ½çš„è…³æœ¬ã€‚

### ä»£ç† â†’ è…³æœ¬å°æ‡‰

| ä»£ç† | è…³æœ¬ | æŒ‡ä»¤ |
|------|------|------|
| **frontend-specialist** | UX ç¨½æ ¸ | `python .agent/skills/frontend-design/scripts/ux_audit.py .` |
| **frontend-specialist** | ç„¡éšœç¤™æª¢æŸ¥ | `python .agent/skills/frontend-design/scripts/accessibility_checker.py .` |
| **backend-specialist** | API é©—è­‰ | `python .agent/skills/api-patterns/scripts/api_validator.py .` |
| **mobile-developer** | è¡Œå‹•ç¨½æ ¸ | `python .agent/skills/mobile-design/scripts/mobile_audit.py .` |
| **database-architect** | Schema é©—è­‰ | `python .agent/skills/database-design/scripts/schema_validator.py .` |
| **security-auditor** | å®‰å…¨æƒæ | `python .agent/skills/vulnerability-scanner/scripts/security_scan.py .` |
| **seo-specialist** | SEO æª¢æŸ¥ | `python .agent/skills/seo-fundamentals/scripts/seo_checker.py .` |
| **seo-specialist** | GEO æª¢æŸ¥ | `python .agent/skills/geo-fundamentals/scripts/geo_checker.py .` |
| **performance-optimizer** | Lighthouse | `python .agent/skills/performance-profiling/scripts/lighthouse_audit.py <url>` |
| **test-engineer** | æ¸¬è©¦åŸ·è¡Œ | `python .agent/skills/testing-patterns/scripts/test_runner.py .` |
| **test-engineer** | Playwright | `python .agent/skills/webapp-testing/scripts/playwright_runner.py <url>` |
| **ä»»ä½•ä»£ç†** | Lint æª¢æŸ¥ | `python .agent/skills/lint-and-validate/scripts/lint_runner.py .` |
| **ä»»ä½•ä»£ç†** | å‹åˆ¥è¦†è“‹ç‡ | `python .agent/skills/lint-and-validate/scripts/type_coverage.py .` |
| **ä»»ä½•ä»£ç†** | i18n æª¢æŸ¥ | `python .agent/skills/i18n-localization/scripts/i18n_checker.py .` |

> âŒ **éŒ¯èª¤ï¼š** `test-engineer` åŸ·è¡Œ `ux_audit.py`
> âœ… **æ­£ç¢ºï¼š** `frontend-specialist` åŸ·è¡Œ `ux_audit.py`

---

### ğŸ”´ è…³æœ¬è¼¸å‡ºè™•ç†ï¼ˆé–±è®€ â†’ æ‘˜è¦ â†’ è©¢å•ï¼‰

**åŸ·è¡Œé©—è­‰è…³æœ¬æ™‚ï¼Œä½ å¿…é ˆï¼š**

1. **åŸ·è¡Œè…³æœ¬** ä¸¦æ“·å–æ‰€æœ‰è¼¸å‡º
2. **è§£æè¼¸å‡º** â€” è­˜åˆ¥éŒ¯èª¤ã€è­¦å‘Šå’Œé€šé
3. **å‘ä½¿ç”¨è€…æ‘˜è¦** ä»¥æ­¤æ ¼å¼ï¼š

```markdown
## è…³æœ¬çµæœï¼š[script_name.py]

### âŒ ç™¼ç¾éŒ¯èª¤ï¼ˆX é …ï¼‰
- [æª”æ¡ˆ:è¡Œ] éŒ¯èª¤æè¿° 1
- [æª”æ¡ˆ:è¡Œ] éŒ¯èª¤æè¿° 2

### âš ï¸ è­¦å‘Šï¼ˆY é …ï¼‰
- [æª”æ¡ˆ:è¡Œ] è­¦å‘Šæè¿°

### âœ… é€šéï¼ˆZ é …ï¼‰
- æª¢æŸ¥ 1 é€šé
- æª¢æŸ¥ 2 é€šé

**è¦æˆ‘ä¿®å¾©é€™ X å€‹éŒ¯èª¤å—ï¼Ÿ**
```

4. **ç­‰å¾…ä½¿ç”¨è€…ç¢ºèª** å†ä¿®å¾©
5. **ä¿®å¾©å¾Œ** â†’ é‡æ–°åŸ·è¡Œè…³æœ¬ç¢ºèª

> ğŸ”´ **é•è¦ï¼š** åŸ·è¡Œè…³æœ¬å¾Œå¿½ç•¥è¼¸å‡º = ä»»å‹™å¤±æ•—ã€‚
> ğŸ”´ **é•è¦ï¼š** æœªç¶“è©¢å•è‡ªå‹•ä¿®å¾© = ä¸å…è¨±ã€‚
> ğŸ”´ **è¦å‰‡ï¼š** å§‹çµ‚é–±è®€è¼¸å‡º â†’ æ‘˜è¦ â†’ è©¢å• â†’ ç„¶å¾Œä¿®å¾©ã€‚
