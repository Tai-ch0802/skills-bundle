# 權衡分析與 ADR

> 用權衡來記錄每一個架構決策。

## 決策框架

針對每個架構元件，記錄：

```markdown
## 架構決策記錄

### 情境
- **問題**：[我們要解決什麼問題？]
- **限制**：[團隊規模、規模、時程、預算]

### 考慮的選項

| 選項 | 優點 | 缺點 | 複雜度 | 何時有效 |
|------|------|------|--------|----------|
| 選項 A | 好處 1 | 代價 1 | 低 | [條件] |
| 選項 B | 好處 2 | 代價 2 | 高 | [條件] |

### 決策
**選擇**：[選項 B]

### 理由
1. [原因 1 — 與限制相關]
2. [原因 2 — 與需求相關]

### 接受的權衡
- [我們放棄了什麼]
- [為什麼這是可以接受的]

### 後果
- **正面**：[我們獲得的好處]
- **負面**：[我們接受的代價/風險]
- **緩解**：[如何處理負面影響]

### 重新評估觸發條件
- [何時重新考慮此決策]
```

## ADR 範本

```markdown
# ADR-[XXX]：[決策標題]

## 狀態
提議 | 已接受 | 已棄用 | 被 [ADR-YYY] 取代

## 情境
[什麼問題？什麼限制？]

## 決策
[我們選擇了什麼 — 要具體]

## 理由
[為什麼 — 與需求和限制結合]

## 權衡
[我們放棄了什麼 — 要誠實]

## 後果
- **正面**：[好處]
- **負面**：[代價]
- **緩解**：[如何處理]
```

## ADR 儲存位置

```
docs/
└── architecture/
    ├── adr-001-use-nextjs.md
    ├── adr-002-postgresql-over-mongodb.md
    └── adr-003-adopt-repository-pattern.md
```
